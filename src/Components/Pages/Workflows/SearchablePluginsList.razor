<MudTextField @bind-Value="_search"
              Placeholder="Search plugin..."
              Adornment="Adornment.Start"
              AdornmentIcon="@Icons.Material.Filled.Search"
              Immediate="true"
              DebounceInterval="150"
              Clearable="true" />

<MudList T="string" Dense="true" Class="mt-1">
    @if (FilteredItems.Count == 0)
    {
        <MudListItem Disabled="true">
            <MudText Typo="Typo.caption" Color="Color.Secondary">No matches</MudText>
        </MudListItem>
    }
    else
    {
        @foreach (var item in FilteredItems)
        {
            <MudListItem OnClick="@(() => OnItemClick.InvokeAsync(item))">
                <MudText>@item</MudText>
            </MudListItem>
        }
    }
</MudList>

@code {
    [Parameter] public List<string> Items { get; set; } = new();
    [Parameter] public EventCallback<string> OnItemClick { get; set; }

    private string _search = string.Empty;

    private List<string> FilteredItems =>
        string.IsNullOrWhiteSpace(_search)
            ? Items
            : Items.Where(i => i.Contains(_search, StringComparison.OrdinalIgnoreCase)).ToList();
}